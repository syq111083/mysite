(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"container-fluid",staticStyle:{padding:"0rem"}},[i("v-nav",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}]}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],staticClass:"text-center"},[i("b-row",{staticClass:"text-center",staticStyle:{width:"100%","margin-top":"1rem"}},[i("b-form",{staticStyle:{margin:"0 auto"}},[i("b-form-group",[i("div",{staticClass:"row",staticStyle:{width:"30rem","margin-top":"2rem"}},[i("b-col",{staticStyle:{width:"6.25rem",margin:"0 auto","margin-top":"5rem"}},[i("label",{staticStyle:{"font-size":"large","font-weight":"600"}},[t._v("账号")]),i("b-form-input",{attrs:{required:"",type:"email"},model:{value:t.form.email,callback:function(s){t.$set(t.form,"email",s)},expression:"form.email"}})],1)],1),i("b-row",{staticClass:"row",staticStyle:{width:"30rem","margin-top":"2rem"}},[i("b-col",{staticStyle:{width:"6.25rem",margin:"0 auto","margin-top":"2rem"}},[i("label",{staticStyle:{"font-size":"large","font-weight":"600"}},[t._v("密码")]),i("b-form-input",{attrs:{required:"",type:"password"},model:{value:t.form.password,callback:function(s){t.$set(t.form,"password",s)},expression:"form.password"}})],1)],1)],1)],1)],1),i("b-row",{staticClass:"row",staticStyle:{"margin-top":"1rem",width:"100%"}},[i("b-button",{staticStyle:{margin:"0 auto"},on:{click:function(s){return t.onSubmit()}}},[t._v("登录")])],1),i("div",{staticClass:"row",staticStyle:{"margin-top":"2rem",width:"100%"}},[i("b-link",{staticStyle:{margin:"0 auto","margin-top":"0.4rem"},attrs:{href:"/register"}},[t._v("点击此处注册")])],1),i("b-row",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticStyle:{margin:"0 auto","margin-top":"0.5rem",width:"100%"}},[i("b-alert",{staticStyle:{margin:"0 auto"},attrs:{show:t.dismissCountDown,dismissible:"",variant:"danger"},on:{dismissed:function(s){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[i("p",[t._v("账号或密码错误，请重新输入")]),i("p",[t._v(" "+t._s(t.dismissCountDown)+"秒后警告关闭 ")]),i("b-progress",{attrs:{variant:"warning",max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1)],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"text-center"},[i("h1",{staticStyle:{"margin-top":"2rem"}},[t._v("登录成功")]),i("router-link",{attrs:{to:"/"}},[t._v("如果浏览器没有响应，点击此处返回首页")])],1)],1)},o=[],a=i("bc3a"),n=i.n(a),r=i("a18c"),m={data:function(){return{isLogin:!1,show:!1,dismissSecs:10,dismissCountDown:0,form:{email:"",password:""}}},mounted:function(){null!==this.$store.state.token&&(this.isLogin=!0)},methods:{onSubmit:function(){var t=this;console.log(this.baseURL()),""!==this.form.email&&""!==this.form.password?n()({method:"post",url:this.baseURL()+":8888/account/login",data:{email:this.form.email,password:this.form.password}}).then((function(s){localStorage.setItem("token",s.data.token),window.localStorage.setItem("nickname",s.data.nickname),t.isLogin=!0,setTimeout(t.push,3e3)})).catch((function(s){t.dismissCountDown=t.dismissSecs})):this.dismissCountDown=this.dismissSecs},countDownChanged:function(t){this.dismissCountDown=t,this.show=!0},push:function(){r["a"].push("/"),location.reload()}}},l=m,c=i("2877"),u=Object(c["a"])(l,e,o,!1,null,null,null);s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.ec56d5c9.js.map